/*!
 * Title                   : Hotspotter - Cool Hotspot Maker jQuery Plugin
 * Author                  : Basm , aka z-B
 * Version                 : 1.8.0
 * Last Modified           : 7 Nov 2013
 * CodeCanyon Profile      : http://codecanyon.net/user/z-B
 * License                 : http://codecanyon.net/licenses/regular_extended
 */
(function(g,f){function h(j,l){var i=0,k;g(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"]).each(function(){k=parseFloat(j.css(this.toString()));k=isNaN(k)?0:k;i+=k});j.width(parseFloat(l)-i)}function d(j,l){var i=0,k;g(["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"]).each(function(){k=parseFloat(j.css(this.toString()));k=isNaN(k)?0:k;i+=k});j.height(parseFloat(l)-i)}var c=function(j,l){this.b_generalData=l;this.b_$wrap=j;this.b_$spot=j.find("div[data-coord]");this.b_name=this.b_$spot.attr("data-name");this.b_coord=this.b_$spot.attr("data-coord").split(",");this.b_dim=this.b_$spot.attr("data-dim")?this.b_$spot.attr("data-dim").split(","):null;this.b_activeon=this.b_$spot.attr("data-activeon");this.b_isActive=false;var o=this.b_$spot.attr("data-handler"),n=g.fn.hotspotter.hasOwnProperty(o)?g.fn.hotspotter[o]:g.fn.hotspotter.General;this.b_hdOpts=this.b_$spot.attr("data-handleropts")?this.b_$spot.attr("data-handleropts").split(","):null;this.b_$tooltip=j.find(".tt-wrap");this.b_$inTooltip=this.b_$tooltip.find("> div");this.b_tooltipW=this.b_$inTooltip.attr("data-width");this.b_tooltipDir=this.b_$inTooltip.attr("data-dir")?this.b_$inTooltip.attr("data-dir"):"top";this.b_tooltipPos=this.b_$inTooltip.attr("data-pos");this.b_tooltipAnim=this.b_$inTooltip.attr("data-anim");this.b_coord[0]=parseFloat(this.b_coord[0]);this.b_coord[1]=parseFloat(this.b_coord[1]);if(this.b_dim){for(var m=this.b_dim.length;m--;){this.b_dim[m]=parseFloat(this.b_dim[m])}}var k=parseFloat(this.b_tooltipPos);this.b_tooltipPos=(isNaN(k))?24:k;g.extend(this,n)};c.prototype.b_clearEvents=function(){this.b_$wrap.unbind(c.opts.ns);this.b_$spot.unbind(c.opts.ns)};c.prototype.b_bindDefaults=function(){var i=this;if(i.b_activeon==="hover"&&i.enter&&i.leave){i.b_$wrap.bind("mouseenter"+c.opts.ns,function(){i.enter()});i.b_$wrap.bind("mouseleave"+c.opts.ns,function(){i.leave()})}else{if(i.b_activeon==="click"&&i.click){i.b_$spot.bind("click"+c.opts.ns,function(j){j.stopPropagation();i.click()})}}};c.prototype.b_showInContext=function(){var j=this.b_$wrap.parent().find(".hs-wrap > div[data-coord]").filter(":not(div[data-name="+this.b_name+"])");j.each(function(){var l=g(this).data("spot"+c.opts.ns);if(l.b_activeon==="hover"&&l.b_isActive){l.leave()}else{if(l.b_activeon==="click"&&l.b_isActive){l.click()}}});var i=this.b_$wrap.parent().offset().left,k=this.b_$wrap.parent().offset().top;g(f).scrollLeft(i);g(f).scrollTop(k-c.opts.imgTopMargin);if(this.b_activeon==="hover"&&!this.b_isActive){this.enter()}else{if(this.b_activeon==="click"&&!this.b_isActive){this.click()}}};c.opts={ns:".hotspotter",imgTopMargin:10};function b(i){i.find(".hs-wrap").each(function(){var j=g(this),k=j.find("div[data-coord]").data("spot"+c.opts.ns);if(k){k.scale();return}k=new c(g(this),i.data("general_data"+c.opts.ns));k.b_$spot.data("spot"+c.opts.ns,k);k.scale();k.b_$wrap.show();k.b_clearEvents();k.init&&k.init();if(!k.b_activeon){return}(k.b_activeon=="always")?k.enter():k.b_bindDefaults()})}function a(i,j,k){var l=k.attr("data-imgdim").split(",");j.dw=k.width()/l[0];j.dh=k.height()/l[1];b(i)}function e(m){var k=m.b_$spot.find("> img").eq(0),j=m.b_$spot.find("> img").eq(1);function i(){var n=g(this);n.show();if(!m.img1W){m.img1W=n.width()||this.width;m.img1H=n.height()||this.height}n.width(m.img1W*m.b_generalData.dw);n.height(m.img1H*m.b_generalData.dh)}function l(){var n=g(this);if(!m.img2W){j.show();m.img2W=n.width()||this.width;m.img2H=n.height()||this.height;j.hide()}n.width(m.img2W*m.b_generalData.dw);n.height(m.img2H*m.b_generalData.dh)}if(!this.scaleEventBind){this.scaleEventBind=true;k.bind("load"+c.opts.ns,i);j.bind("load"+c.opts.ns,l)}if(k[0].complete||k.width()){i.call(k[0]);k.unbind("load"+c.opts.ns)}if(j[0].complete||j.width()){l.call(j[0]);j.unbind("load"+c.opts.ns)}}g.fn.hotspotter=function(i){var k=false;var j=this.data("spot"+c.opts.ns);if(i=="isActive"){return j?j.b_isActive:undefined}this.each(function(){var p=g(this);if(i=="hide"){p.find(".hs-wrap").hide();p.data("general_data"+c.opts.ns).visible=false;return}if(i=="show"){p.find(".hs-wrap").show();p.data("general_data"+c.opts.ns).visible=true;return}var o=p.data("spot"+c.opts.ns);if(i=="trigger"){if(o&&!o.b_isActive){o.enter()}return}if(i=="untrigger"){if(o&&o.b_isActive){o.leave()}return}var n=p.find("img[data-imgdim]"),l=p,m=l.data("general_data"+c.opts.ns);k=true;g.extend(c.opts,i);if(!m){l.data("general_data"+c.opts.ns,{dw:1,dh:1,visible:true,curActiveSpot:null});m=l.data("general_data"+c.opts.ns)}if(!n.length){b(l);return}if(n.width()&&n.height()){a(l,m,n)}else{n.bind("load"+c.opts.ns,function(){a(l,m,n)});if(n[0].complete){a(l,m,n);n.unbind("load"+c.opts.ns)}}});if(k){g(f).unbind(c.opts.ns);g(f).bind("hashchange"+c.opts.ns,function(){var m=f.location.hash.substr(1),l=g(".hs-wrap div[data-name="+g.trim(m)+"]");if(l.length){l.data("spot"+c.opts.ns).b_showInContext()}});g(f).bind("load"+c.opts.ns,function(){g(f).trigger("hashchange"+c.opts.ns)})}return this};g.fn.hotspotter.version="1.7.9";g.fn.hotspotter.General={init:function(){if(this.b_activeon==="click"){this.b_$spot.css("cursor","pointer")}if(this.b_tooltipW){this.b_$inTooltip.css("width",this.b_tooltipW)}if(!this.b_tooltipDir){this.b_tooltipDir="top"}this.b_$tooltip.addClass(this.b_tooltipDir);this.b_$inTooltip.addClass(this.b_tooltipDir);if(this.b_$spot.hasClass("img-spot")){this.$img1=this.b_$spot.find("img").eq(0);this.$img2=this.b_$spot.find("img").eq(1);this.$img2.hide()}else{if(this.b_$spot.hasClass("markup-spot")){this.$markup1=this.b_$spot.find("div").eq(0);this.$markup2=this.b_$spot.find("div").eq(1);this.$markup2.hide()}}},enter:function(){if(this.b_isActive||!this.b_generalData.visible){return}if(this.b_$spot.hasClass("img-spot")){this.$img1.hide();this.$img2.show()}else{if(this.b_$spot.hasClass("markup-spot")){this.$markup1.hide();this.$markup2.show()}else{this.b_$spot.addClass("active")}}this.b_$tooltip.stop(true,true);if(this.b_tooltipAnim==="fade"){this.b_$tooltip.fadeIn("slow")}else{if(this.b_tooltipAnim==="goin"){this.b_$tooltip.show();switch(this.b_tooltipDir){case"top":this.b_$tooltip.css("bottom",100+parseFloat((30/this.b_$spot.height())*100)+"%");this.b_$tooltip.css("opacity","0");this.b_$tooltip.animate({bottom:"100%",opacity:"1"},300);break;case"right":this.b_$tooltip.css("left",100+parseFloat((30/this.b_$spot.width())*100)+"%");this.b_$tooltip.css("opacity","0");this.b_$tooltip.animate({left:"100%",opacity:"1"},300);break;case"bottom":this.b_$tooltip.css("top",100+parseFloat((30/this.b_$spot.height())*100)+"%");this.b_$tooltip.css("opacity","0");this.b_$tooltip.animate({top:"100%",opacity:"1"},300);break;case"left":this.b_$tooltip.css("right",100+parseFloat((30/this.b_$spot.width())*100)+"%");this.b_$tooltip.css("opacity","0");this.b_$tooltip.animate({right:"100%",opacity:"1"},300);break}}else{this.b_$tooltip.show()}}this.b_isActive=true},leave:function(){if(!this.b_generalData.visible){return}if(this.b_$spot.hasClass("img-spot")){this.$img1.show();this.$img2.hide()}else{if(this.b_$spot.hasClass("markup-spot")){this.$markup1.show();this.$markup2.hide()}else{this.b_$spot.removeClass("active")}}if(this.b_tooltipAnim==="fade"){this.b_$tooltip.fadeOut("slow")}else{this.b_$tooltip.hide()}this.b_isActive=false},click:function(){if(!this.b_isActive){if(this.b_generalData.curActiveSpot){this.b_generalData.curActiveSpot.leave()}this.b_generalData.curActiveSpot=this;this.enter()}else{this.leave()}},scale:function(){var j=this.b_generalData.dw,k=this.b_generalData.dh;this.b_$wrap.css("left",this.b_coord[0]*j);this.b_$wrap.css("top",this.b_coord[1]*k);if(this.b_dim&&!this.b_$spot.hasClass("sniper-spot")){this.b_$spot.width(this.b_dim[0]*j+"px");this.b_$spot.height(this.b_dim[1]*k+"px");if(2 in this.b_dim){this.b_$spot.css("border-radius",this.b_dim[2]*j)}}if(this.b_$spot.hasClass("img-spot")){e(this)}var i=-26;if(this.b_$spot.hasClass("sniper-spot")){j=k=1;i=0}if(this.b_tooltipDir==="top"||this.b_tooltipDir==="bottom"){this.b_$tooltip.css("left",i+this.b_tooltipPos*j)}if(this.b_tooltipDir==="left"||this.b_tooltipDir==="right"){this.b_$tooltip.css("top",i+this.b_tooltipPos*k)}}},g.fn.hotspotter.Aim={init:function(){this.$hsArea=this.b_$wrap.parent();if(!this.b_generalData.hsAim){this.b_generalData.hsAim={$img:this.$hsArea.find("> img")}}this.aimGeneralData=this.b_generalData.hsAim;if(this.b_activeon=="click"){this.b_$spot.css("cursor","pointer")}this.b_$inTooltip.appendTo(this.$hsArea);if(this.b_tooltipW&&(this.b_tooltipDir=="left"||this.b_tooltipDir=="right")){this.b_$inTooltip.width(this.b_tooltipW)}this.$ttContent=this.b_$inTooltip.find(".tt-content");this.b_generalData.hsAim.$img.bind("load"+c.opts.ns,g.proxy(this._getOriginalTooltipDim,this));this._getOriginalTooltipDim();if(this.b_tooltipDir){this.b_$inTooltip.addClass(this.b_tooltipDir)}if(this.b_$spot.hasClass("img-spot")){this.$img1=this.b_$spot.find("> img").eq(0);this.$img2=this.b_$spot.find("> img").eq(1)}if(this.b_hdOpts=="false"){return}if(!this.aimGeneralData.rect0){for(var j=4;j--;){this.aimGeneralData["rect"+j]=g("<div/>").addClass("hs-aim-rect").appendTo(this.$hsArea);var k=this.aimGeneralData;this.aimGeneralData["rect"+j].bind("mouseenter",function(){if(k.activeSpot&&k.activeSpot.b_activeon=="hover"){k.activeSpot.leave()}});this.aimGeneralData["pillar"+j]=g("<div/>").addClass("hs-aim-pillar").appendTo(this.$hsArea)}}},enter:function(){if(this.b_isActive||!this.b_generalData.visible){return}if(!this.aimGeneralData.$img[0].complete){return}if(this.b_$spot.hasClass("img-spot")&&(!this.$img1[0].complete||!this.$img2[0].complete)){return}if(!this.spotDim){this.spotDim={w:this.b_$spot.outerWidth(),h:this.b_$spot.outerHeight(),x:this.b_$wrap.position().left,y:this.b_$wrap.position().top}}this.b_isActive=true;this.aimGeneralData.activeSpot&&this.aimGeneralData.activeSpot.leave();this.aimGeneralData.activeSpot=this;if(!this.aimGeneralData.imgDim){this.aimGeneralData.imgDim={w:this.aimGeneralData.$img.width(),h:this.aimGeneralData.$img.height()}}if(this.b_$spot.hasClass("img-spot")){this.$img1.hide();this.$img2.show()}if(this.b_hdOpts=="false"){this._showTooltip()}else{this.b_$spot.addClass("hs-flatten");this.aimGeneralData.rect0.width(this.aimGeneralData.imgDim.w);this.aimGeneralData.rect0.height(this.spotDim.y);this.aimGeneralData.rect0.css("left",0);this.aimGeneralData.rect0.css("top",0);this.aimGeneralData.rect1.width(this.aimGeneralData.imgDim.w-(this.spotDim.x+this.spotDim.w));this.aimGeneralData.rect1.height(this.aimGeneralData.imgDim.h-this.spotDim.y);this.aimGeneralData.rect1.css("left",this.spotDim.x+this.spotDim.w);this.aimGeneralData.rect1.css("top",this.spotDim.y);this.aimGeneralData.rect2.width((this.spotDim.x+this.spotDim.w));this.aimGeneralData.rect2.height(this.aimGeneralData.imgDim.h-(this.spotDim.y+this.spotDim.h));this.aimGeneralData.rect2.css("left",0);this.aimGeneralData.rect2.css("top",this.spotDim.y+this.spotDim.h);this.aimGeneralData.rect3.width(this.spotDim.x);this.aimGeneralData.rect3.height(this.spotDim.h);this.aimGeneralData.rect3.css("left",0);this.aimGeneralData.rect3.css("top",this.spotDim.y);this.aimGeneralData.pillar0.width(4);this.aimGeneralData.pillar0.height(0);this.aimGeneralData.pillar0.css("top",0);this.aimGeneralData.pillar0.css("left",this.spotDim.x+(this.spotDim.w/2));this.aimGeneralData.pillar1.width(0);this.aimGeneralData.pillar1.height(4);this.aimGeneralData.pillar1.css("top",this.spotDim.y+(this.spotDim.h/2));this.aimGeneralData.pillar1.css("left",this.aimGeneralData.imgDim.w);this.aimGeneralData.pillar2.width("4");this.aimGeneralData.pillar2.height(0);this.aimGeneralData.pillar2.css("bottom",this.b_$wrap.parent().height()-this.aimGeneralData.imgDim.h);this.aimGeneralData.pillar2.css("left",this.spotDim.x+(this.spotDim.w/2));this.aimGeneralData.pillar3.width(0);this.aimGeneralData.pillar3.height("4");this.aimGeneralData.pillar3.css("top",this.spotDim.y+(this.spotDim.h/2));this.aimGeneralData.pillar3.css("left",0);for(var k=4;k--;){this.aimGeneralData["rect"+k].show();this.aimGeneralData["pillar"+k].show()}var j=this.aimGeneralData.imgDim.w-(this.spotDim.x+this.spotDim.w),l=this;this.aimGeneralData.pillar0.animate({height:this.spotDim.y},300);this.aimGeneralData.pillar1.animate({width:j,left:"-="+j},300);this.aimGeneralData.pillar2.animate({height:this.aimGeneralData.imgDim.h-(this.spotDim.y+this.spotDim.h)},300);this.aimGeneralData.pillar3.animate({width:this.spotDim.x},300,function(){l._showTooltip()})}},leave:function(){if(!this.b_isActive||!this.b_generalData.visible){return}this.b_isActive=false;this.aimGeneralData.activeSpot=null;this.b_$spot.removeClass("hs-flatten");if(this.b_$spot.hasClass("img-spot")){this.$img1.show();this.$img2.hide()}if(this.b_hdOpts!="false"){for(var j=4;j--;){this.aimGeneralData["rect"+j].hide();this.aimGeneralData["pillar"+j].stop();this.aimGeneralData["pillar"+j].hide()}}this.$ttContent.hide();switch(this.b_tooltipDir){case"top":this.b_$inTooltip.animate({height:0},400,function(){g(this).hide()});break;case"right":this.b_$inTooltip.animate({width:0},400,function(){g(this).hide()});break;case"bottom":this.b_$inTooltip.animate({height:0},400,function(){g(this).hide()});break;case"left":this.b_$inTooltip.animate({width:0,right:"100%"},400,function(){g(this).hide()});break}},click:function(){!this.b_isActive?this.enter():this.leave()},scale:function(){this.b_$wrap.css("left",this.b_coord[0]*this.b_generalData.dw);this.b_$wrap.css("top",this.b_coord[1]*this.b_generalData.dh);if(this.b_dim&&!this.b_$spot.hasClass("sniper-spot")){this.b_$spot.width(this.b_dim[0]*this.b_generalData.dw);this.b_$spot.height(this.b_dim[1]*this.b_generalData.dw);if(2 in this.b_dim){this.b_$spot.css("border-radius",this.b_dim[2]*this.b_generalData.dw)}}if(this.b_$spot.hasClass("img-spot")){e(this)}if(this.spotDim){this.spotDim={w:this.b_$spot.outerWidth(),h:this.b_$spot.outerHeight(),x:this.b_$wrap.position().left,y:this.b_$wrap.position().top};this.aimGeneralData.imgDim={w:this.aimGeneralData.$img.width(),h:this.aimGeneralData.$img.height()}}},_getOriginalTooltipDim:function(){this.$ttContent.show();this.ttOrignW=this.b_$inTooltip.width();this.ttOrignH=this.b_$inTooltip.height();this.$ttContent.hide()},_showTooltip:function(){this.b_$inTooltip.show();var j=this.$ttContent;function i(){j.show()}switch(this.b_tooltipDir){case"top":h(this.b_$inTooltip,this.aimGeneralData.imgDim.w);this.b_$inTooltip.css("left",0);this.b_$inTooltip.css("bottom","100%");this.b_$inTooltip.height(0);this.b_$inTooltip.animate({height:this.ttOrignH},400,i);break;case"right":d(this.b_$inTooltip,this.aimGeneralData.imgDim.h);this.b_$inTooltip.css("left",this.aimGeneralData.imgDim.w);this.b_$inTooltip.css("top",0);this.b_$inTooltip.width(0);this.b_$inTooltip.animate({width:this.ttOrignW},400,i);break;case"bottom":h(this.b_$inTooltip,this.aimGeneralData.imgDim.w);this.b_$inTooltip.css("left",0);this.b_$inTooltip.css("top",this.aimGeneralData.imgDim.h);this.b_$inTooltip.height(0);this.b_$inTooltip.animate({height:this.ttOrignH},400,i);break;case"left":d(this.b_$inTooltip,this.aimGeneralData.imgDim.h);this.b_$inTooltip.css("top",0);this.b_$inTooltip.width(0);this.b_$inTooltip.css("right","100%");this.b_$inTooltip.animate({width:this.ttOrignW},400,i);break}}}})(jQuery,window);